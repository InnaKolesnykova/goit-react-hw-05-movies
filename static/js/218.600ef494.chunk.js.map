{"version":3,"file":"static/js/218.600ef494.chunk.js","mappings":"4OACA,EAA4B,2BAA5B,EAAsE,8BAAtE,EAAkH,6BAAlH,EAA6J,6BAA7J,EAA0M,+BAA1M,EAA4P,kCAA5P,EAAuS,wBAAvS,EAAqU,qB,SCiErU,EA9DgB,WACd,IAAAA,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,GAA4CL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAhDE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GAChCG,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,EAAM,sCAAAC,OAAyCH,EAAO,qBAAAG,OAD7C,qCAGfC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEMC,MAAMb,GAAQ,KAAD,EAAtB,IAARQ,EAAQE,EAAAI,MAEAC,GAAG,CAADL,EAAAE,KAAA,cACR,IAAII,MAAM,uBAADf,OAAwBO,EAASS,SAAU,KAAD,SAAAP,EAAAE,KAAA,EAGxCJ,EAASC,OAAO,KAAD,GAA5BA,EAAIC,EAAAI,MAEDI,QACPzB,EAAWgB,EAAKS,UAEhBC,QAAQC,MAAM,iCAAkCX,GAChDhB,EAAW,KACZiB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAW,GAAAX,EAAA,SAEDS,QAAQC,MAAM,0BAAyBV,EAAAW,IACvC5B,EAAW,IAAI,yBAAAiB,EAAAY,OAAA,GAAAf,EAAA,mBAElB,kBApBiB,OAAAH,EAAAmB,MAAA,KAAAC,UAAA,KAsBlBrB,GACF,GAAG,CAACH,IASJ,OACEyB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAiBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAoBC,SAAC,kBACnCpC,EAAQsC,OAAS,GAChBD,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAmBC,SAC/BpC,EAAQuC,MAAM,EAAGnC,GAAgBoC,KAAI,SAACC,GAAM,OAC3CR,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAmBC,SAAA,EAChCH,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAqBC,SAAA,EAACC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAwBC,SAAC,aAAgBK,EAAOC,WACtGL,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAcC,SAAEK,EAAOE,YAFCF,EAAOG,GAG1C,OAITP,EAAAA,EAAAA,KAAA,KAAAD,SAAG,yCAEJpC,EAAQsC,OAASlC,IACdiC,EAAAA,EAAAA,KAAA,UAAQQ,QAvBQ,WACpB7C,EAAQsC,OAASlC,GACnBC,GAAkB,SAAAyC,GAAkB,OAAIA,EAAqB,CAAC,GAElE,EAmB4CZ,UAAWC,EAAWC,SAAC,gBAInE,C","sources":["webpack://goit-react-hw-05-movies/./src/components/pages/Reviews/Reviews.module.css?306d","components/pages/Reviews/Reviews.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewBox\":\"Reviews_reviewBox__iA-GR\",\"reviewsTitle\":\"Reviews_reviewsTitle__gQh+B\",\"reviewsList\":\"Reviews_reviewsList__s19+q\",\"reviewsItem\":\"Reviews_reviewsItem__t32H6\",\"reviewsAuthor\":\"Reviews_reviewsAuthor__+4hW9\",\"reviewAuthorSign\":\"Reviews_reviewAuthorSign__kmEer\",\"review\":\"Reviews_review__F5x85\",\"btn\":\"Reviews_btn__3sTr4\"};","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport styles from './Reviews.module.css'; \r\n\r\nconst Reviews = () => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [visibleReviews, setVisibleReviews] = useState(4);\r\n  const { movieId } = useParams();\r\n  const apiKey = '6ec0ba8fa041ffdfd513a6b00a854a64';\r\n  const apiUrl = `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${apiKey}`;\r\n\r\n  useEffect(() => {\r\n    const fetchReviews = async () => {\r\n      try {\r\n        const response = await fetch(apiUrl);\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n\r\n        const json = await response.json();\r\n\r\n        if (json.results) {\r\n          setReviews(json.results);\r\n        } else {\r\n          console.error('Unexpected response structure:', json);\r\n          setReviews([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching reviews:', error);\r\n        setReviews([]);\r\n      }\r\n    };\r\n\r\n    fetchReviews();\r\n  }, [apiUrl]);\r\n\r\n  const loadMoreReviews = () => {\r\n  if (reviews.length > visibleReviews) {\r\n    setVisibleReviews(prevVisibleReviews => prevVisibleReviews + 4);\r\n  }\r\n};\r\n\r\n  \r\n  return (\r\n    <div className={styles.reviewBox}>\r\n      <h2 className={styles.reviewsTitle}>Movie Reviews</h2>\r\n      {reviews.length > 0 ? (\r\n        <ul className={styles.reviewsList}>\r\n          {reviews.slice(0, visibleReviews).map((review) => (\r\n            <li className={styles.reviewsItem} key={review.id}>\r\n              <h3 className={styles.reviewsAuthor}><span className={styles.reviewAuthorSign}>Author: </span>{review.author}</h3>\r\n              <p className={styles.review}>{review.content}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>No reviews available for this movie.</p>\r\n      )}\r\n      {reviews.length > visibleReviews && (\r\n          <button onClick={loadMoreReviews} className={styles.btn}>Load More</button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reviews;"],"names":["_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","visibleReviews","setVisibleReviews","movieId","useParams","apiUrl","concat","useEffect","fetchReviews","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","json","_context","prev","next","fetch","sent","ok","Error","status","results","console","error","t0","stop","apply","arguments","_jsxs","className","styles","children","_jsx","length","slice","map","review","author","content","id","onClick","prevVisibleReviews"],"sourceRoot":""}