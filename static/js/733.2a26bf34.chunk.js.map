{"version":3,"file":"static/js/733.2a26bf34.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/pages/MovieDetails/MovieDetails.module.css?1b37","components/fetch/fetchMovieDetail.jsx","components/pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__EBOr+\",\"mainDiv\":\"MovieDetails_mainDiv__uKF6h\",\"poster\":\"MovieDetails_poster__pw8yd\",\"posterPlaceholder\":\"MovieDetails_posterPlaceholder__Eq5iq\",\"info\":\"MovieDetails_info__fnkbc\",\"linkBox\":\"MovieDetails_linkBox__eaw3m\",\"backLink\":\"MovieDetails_backLink__qnyaq\",\"link\":\"MovieDetails_link__BfJpg\"};","const apiKey = '6ec0ba8fa041ffdfd513a6b00a854a64';\r\nconst apiUrl = 'https://api.themoviedb.org/3';\r\n\r\nexport const fetchMovieDetail = async (movieId) => {\r\n  const url = `${apiUrl}/movie/${movieId}?api_key=${apiKey}`;\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error fetching movie details:', error);\r\n    throw error;\r\n  }\r\n};","import React, { useState, useEffect, lazy, Suspense } from 'react';\r\nimport { useParams, Link, useLocation, useNavigate, Route, Routes, Outlet } from 'react-router-dom';\r\nimport styles from './MovieDetails.module.css';\r\nimport { fetchMovieDetail } from '../../fetch/fetchMovieDetail';\r\n\r\n\r\nconst Cast = lazy(() => import('../../Cast/Cast'));\r\nconst Reviews = lazy(() => import('../Reviews/Reviews'));\r\n\r\nconst MovieDetails = () => {\r\n  const [movieDetails, setMovieDetails] = useState(null);\r\n  const [subPageVisits, setSubPageVisits] = useState(0); \r\n  const { movieId } = useParams();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchDetails = async () => {\r\n      try {\r\n        const data = await fetchMovieDetail(movieId);\r\n        setMovieDetails(data);\r\n      } catch (error) {\r\n        console.error('Error fetching movie details:', error);\r\n      }\r\n    };\r\n\r\n    fetchDetails();\r\n  }, [movieId]);\r\n\r\n  const date = movieDetails ? movieDetails.release_date.slice(0, 4) : '';\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes('cast') || location.pathname.includes('reviews')) {\r\n      setSubPageVisits((prevCount) => prevCount + 1);\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const goBack = () => {\r\n    navigate(-1 - subPageVisits);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Link\r\n        to={location.state?.from === '/' ? '/' : '/movies'}\r\n        className={styles.backLink}\r\n        onClick={goBack}\r\n      >\r\n        Go back\r\n      </Link>\r\n\r\n      {movieDetails && (\r\n        <div className={styles.mainDiv}>\r\n          <div className={styles.posterPlaceholder}>\r\n            {movieDetails.poster_path ? (\r\n              <img\r\n                className={styles.poster}\r\n                src={`https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`}\r\n                alt={movieDetails.title}\r\n                height=\"440px\"\r\n              />\r\n            ) : (\r\n              <div className={styles.placeholderText}>No Poster Available</div>\r\n            )}\r\n          </div>\r\n          <div className={styles.info}>\r\n            <h1>{`${movieDetails.title} (${date})`}</h1>\r\n            <p>User Score: {movieDetails.vote_average}</p>\r\n            <h2>Overview</h2>\r\n            <p>{movieDetails.overview}</p>\r\n            <h2>Genres</h2>\r\n            {movieDetails.genres && (\r\n              <ul>\r\n                {movieDetails.genres.map((genre) => (\r\n                  <li key={genre.id}>{genre.name}</li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className={styles.linkBox}>\r\n        <Link className={styles.link} to={`/movies/${movieId}/cast`}>Cast</Link>\r\n        <Link className={styles.link} to={`/movies/${movieId}/reviews`}>Reviews</Link>\r\n      </div>\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/\"\r\n            element={<Outlet />}\r\n          />\r\n          <Route path=\"cast\" element={<Cast movieId={movieId} />} />\r\n          <Route path=\"reviews\" element={<Reviews />} />\r\n        </Routes>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;"],"names":["fetchMovieDetail","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","movieId","url","response","data","_context","prev","next","concat","fetch","sent","json","abrupt","t0","console","error","stop","_x","apply","arguments","Cast","lazy","Reviews","_location$state","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","subPageVisits","setSubPageVisits","useParams","location","useLocation","navigate","useNavigate","useEffect","fetchDetails","date","release_date","slice","pathname","includes","prevCount","_jsxs","className","styles","children","_jsx","Link","to","state","from","onClick","poster_path","src","alt","title","height","vote_average","overview","genres","map","genre","name","id","Suspense","fallback","Routes","Route","path","element","Outlet"],"sourceRoot":""}